# Juniper Canopy

Metadata-Version: 2.4
Name: juniper_canopy
Version: 0.4.0
Summary: Real-time monitoring dashboard for Cascade Correlation Neural Network
Author-email: Paul Calnon <paul.calnon@example.com>
License: MIT
Project-URL: Homepage, <https://github.com/pcalnon/juniper_canopy>
Project-URL: Documentation, <https://github.com/pcalnon/juniper_canopy/docs>
Project-URL: Repository, <https://github.com/pcalnon/juniper_canopy>
Project-URL: Issues, <https://github.com/pcalnon/juniper_canopy/issues>
Keywords: neural-network,visualization,monitoring,dashboard,cascade-correlation
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.14
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Scientific/Engineering :: Visualization
Requires-Python: >=3.11
Description-Content-Type: text/markdown

## Real-Time Monitoring and Diagnostics Frontend for Cascade Correlation Neural Networks

[![CI/CD Pipeline](https://github.com/pcalnon/juniper_canopy/actions/workflows/ci.yml/badge.svg)](https://github.com/pcalnon/juniper_canopy/actions/workflows/ci.yml)
[![codecov](https://codecov.io/gh/pcalnon/juniper_canopy/branch/main/graph/badge.svg)](https://codecov.io/gh/pcalnon/juniper_canopy)
[![Python 3.11+](https://img.shields.io/badge/python-3.11%2B-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

**Version:** 0.4.0
**Status:** ✅ Production Ready
**Last Updated:** November 11, 2025
**Project:** Juniper - Cascade Correlation Neural Network Monitoring

---

## Table of Contents

- [What is Juniper Canopy?](#what-is-juniper-canopy)
- [Quick Start](#quick-start)
- [Key Features](#key-features)
- [Documentation](#documentation)
- [Current Status](#current-status)
- [Installation](#installation)
- [Usage](#usage)
- [Testing](#testing)
- [Contributing](#contributing)
- [License](#license)

---

## What is Juniper Canopy?

Juniper Canopy is a **real-time monitoring and diagnostic frontend** for the [Cascade Correlation (CasCor) neural network](../cascor/) prototype. It provides an interactive web-based dashboard with four visualization tabs for monitoring network training in real-time.

### Dashboard Features

- **Training Metrics** - Real-time loss and accuracy plots with dual-axis visualization
- **Network Topology** - Interactive network graph showing hidden units and connections
- **Decision Boundary** - 2D visualization of learned decision boundaries
- **Dataset Visualization** - Training data distribution and class separation

### Architecture

- **Backend:** FastAPI with WebSocket support for real-time updates
- **Frontend:** Dash (Plotly) for interactive visualizations
- **Communication:** Dual WebSocket channels (training metrics + control commands)
- **Data Flow:** <100ms latency push architecture
- **Demo Mode:** Simulated training for development without CasCor backend

---

## Quick Start

**Get running in 60 seconds:**

```bash
# Clone repository
cd /path/to/juniper/src/prototypes/juniper_canopy

# Run demo mode (simulated training)
./demo
```

**Open dashboard:** [http://localhost:8050/dashboard/](http://localhost:8050/dashboard/)

**See:** [QUICK_START.md](QUICK_START.md) for detailed instructions.

---

## Key Features

### ✅ Production Ready (v0.3.0)

- **272+ Tests** - 100% pass rate, 73% overall coverage
- **Thread-Safe** - Locks/events for concurrent access protection
- **Real-Time Updates** - WebSocket push (<100ms latency)
- **Demo Mode** - Development without backend dependency
- **CI/CD Pipeline** - GitHub Actions with quality gates
- **Pre-commit Hooks** - Black, isort, Flake8, MyPy, Bandit
- **Codecov Integration** - Coverage tracking and trending

### Dashboard Tabs

1. **Training Metrics Panel**

   - Real-time loss/accuracy plots
   - Dual-axis visualization (loss + accuracy)
   - Historical tracking with bounded buffers
   - Auto-updating every 1 second
2. **Network Visualizer**

   - Interactive network topology graph
   - Hidden unit activation visualization
   - Connection weight display
   - Dynamic updates as network grows
3. **Decision Boundary Plot**

   - 2D visualization of learned boundaries
   - Class separation rendering
   - Real-time boundary updates
   - Support for multi-class problems
4. **Dataset Plotter**

   - Training data visualization
   - Class distribution display
   - Interactive scatter plots
   - Color-coded by class label

### Technical Highlights

- **WebSocket Channels:** `/ws/training` (metrics), `/ws/control` (commands)
- **REST API:** 6 endpoints for metrics, topology, boundaries, dataset
- **Thread Safety:** Locks, events, bounded collections (no memory leaks)
- **Metric Naming:** snake_case standard (`train_loss`, `val_loss`, etc.)
- **Configuration:** YAML + environment variable overrides
- **Logging:** Structured logging (system, training, UI logs)

---

## Documentation

### Essential Guides

TODO: Add links to essential guides
TODO: Update Guide files and Locations

| Document                                               | Description                        | Audience      |
| -------------------------------------------------------- | ------------------------------------ | --------------- |
| [QUICK_START.md](QUICK_START.md)                       | Get running in 5 minutes           | New users     |
| [ENVIRONMENT_SETUP.md](ENVIRONMENT_SETUP.md)           | Complete environment configuration | Developers    |
| [AGENTS.md](AGENTS.md)                                 | AI agent development guide         | AI assistants |
| [DOCUMENTATION_OVERVIEW.md](DOCUMENTATION_OVERVIEW.md) | Navigation guide to all docs       | All users     |

### Technical Documentation

- [docs/CI_CD.md](docs/CI_CD.md) - Complete CI/CD pipeline guide
- [docs/PRE_COMMIT_GUIDE.md](docs/PRE_COMMIT_GUIDE.md) - Pre-commit hooks setup
- [docs/CODECOV_SETUP.md](docs/CODECOV_SETUP.md) - Coverage tracking integration
- [docs/TESTING_CI_CD.md](docs/TESTING_CI_CD.md) - Testing workflows

### Reference

- [CHANGELOG.md](CHANGELOG.md) - Version history and release notes
- [docs/references_and_links.md](docs/references_and_links.md) - External resources

---

## Current Status

### Latest Release: v0.3.0 (November 3, 2025)

#### Complete Testing Infrastructure & CI/CD Implementation

**Achievements:**

- ✅ **170+ New Tests** - Eliminated 21 fixture errors, 17 test failures
- ✅ **100% Pass Rate** - All 272+ tests passing
- ✅ **73% Coverage** - Up from 5% (1,360% increase)
- ✅ **CI/CD Pipeline** - GitHub Actions with multi-version Python testing
- ✅ **Pre-commit Hooks** - Automated code quality checks
- ✅ **Frontend Testing** - All components 71-94% coverage

**See:** [CHANGELOG.md](CHANGELOG.md) for complete release history.

### Metrics Summary

| Metric        | Before | After | Change  |
| --------------- | -------- | ------- | --------- |
| Test Errors   | 21     | 0     | -100%   |
| Test Failures | 17     | 0     | -100%   |
| Tests Passing | 66     | 272+  | +312%   |
| Coverage      | 5%     | 73%   | +1,360% |
| Pass Rate     | 58%    | 100%  | +42%    |

---

## Installation

### Prerequisites

- **Python:** 3.11 or higher
- **Conda/Mamba:** Miniforge3 or Miniconda
- **OS:** Linux, macOS, Windows (WSL2)

### Environment Setup

```bash
# Create conda environment
conda env create -f conf/conda_environment.yaml

# Or manually
conda create -n JuniperPython python=3.11
conda activate JuniperPython

# Install dependencies
pip install -r conf/requirements.txt
```

**See:** [ENVIRONMENT_SETUP.md](ENVIRONMENT_SETUP.md) for detailed instructions.

---

## Usage

### Demo Mode (Recommended for Development)

```bash
# Start demo mode
./demo

# Or with explicit Python path
./util/run_demo.bash
```

**Dashboard:** [http://localhost:8050/dashboard/](http://localhost:8050/dashboard/)

### Production Mode (with CasCor Backend)

```bash
# Set backend path (default: ../cascor)
export CASCOR_BACKEND_PATH=/path/to/cascor

# Run application
cd src
/opt/miniforge3/envs/JuniperPython/bin/python main.py
```

### Configuration

**Environment Variables:**

```bash
export CASCOR_SERVER_PORT=8051        # Server port
export CASCOR_DEBUG=1                 # Enable debug logging
export CASCOR_DEMO_MODE=1             # Force demo mode
export CASCOR_BACKEND_PATH=../cascor  # CasCor backend path
```

**Configuration File:** `conf/app_config.yaml`

**See:** [ENVIRONMENT_SETUP.md](ENVIRONMENT_SETUP.md) for all options.

---

## Testing

### Run All Tests

```bash
cd src
pytest tests/ -v
```

### Run with Coverage

```bash
cd src
pytest tests/ --cov=. --cov-report=html --cov-report=term-missing

# View HTML report
open reports/coverage/index.html  # macOS
xdg-open reports/coverage/index.html  # Linux
```

### Run Specific Test Categories

```bash
# Unit tests only
cd src
pytest tests/unit/ -v

# Integration tests only
cd src
pytest tests/integration/ -v

# By marker
cd src
pytest -m unit -v
pytest -m integration -v
```

### Test Structure

```bash
src/tests/
├── conftest.py           # Shared fixtures
├── unit/                 # Unit tests
│   ├── test_config_manager.py
│   ├── test_demo_mode.py
│   └── ...
├── integration/          # Integration tests
│   ├── test_api_endpoints.py
│   ├── test_websocket_control.py
│   └── ...
└── performance/          # Performance tests
```

**Current Coverage:** 73% (target: 80%)

**See:** [docs/CI_CD.md](docs/CI_CD.md) for complete testing guide.

---

## Development Workflow

### Pre-commit Hooks

```bash
# Install hooks (one-time)
pip install pre-commit
pre-commit install

# Hooks run automatically on git commit

# Manual run
pre-commit run --all-files
```

**Hooks:**

- **Black** - Code formatting
- **isort** - Import sorting
- **Flake8** - Linting
- **MyPy** - Type checking
- **Bandit** - Security scanning

### Code Quality Checks

```bash
# Format code
black src/
isort src/

# Check syntax
python -m py_compile src/**/*.py

# Lint
flake8 src/ --max-line-length=120

# Type check
mypy src/ --ignore-missing-imports
```

### CI/CD Pipeline

GitHub Actions workflow runs on every push/PR:

1. **Lint** - Black, isort, Flake8, MyPy
2. **Test** - Multi-version Python (3.11, 3.12, 3.13)
3. **Coverage** - Codecov upload with 60% minimum
4. **Security** - Bandit security scan
5. **Artifacts** - Test results and coverage reports

**See:** [docs/CI_CD.md](docs/CI_CD.md) for pipeline details.

---

## Project Structure

```bash
juniper_canopy/
├── conf/                    # Configuration files
│   ├── app_config.yaml      # Application configuration
│   ├── requirements.txt     # Python dependencies
│   └── conda_environment.yaml
├── docs/                    # Documentation
├── src/                     # Source code
│   ├── backend/            # Backend integration
│   ├── communication/       # WebSocket management
│   ├── frontend/           # Dash dashboard components
│   ├── logger/             # Logging system
│   ├── tests/              # Test suite
│   ├── config_manager.py   # Configuration management
│   ├── demo_mode.py        # Demo mode simulation
│   └── main.py             # Application entry point
├── util/                    # Utility scripts
│   └── run_demo.bash       # Demo mode launcher
├── demo                     # Demo mode shortcut
├── try                      # Production mode launcher
└── pyproject.toml          # Project configuration
```

---

## Contributing

### Before Committing

1. **Run tests:** `cd src && pytest tests/ -v`
2. **Check coverage:** `pytest tests/ --cov=.`
3. **Run pre-commit:** `pre-commit run --all-files`
4. **Update docs:** CHANGELOG.md, README.md, DEVELOPMENT_ROADMAP.md
5. **Verify no regressions:** Check diagnostics

### Code Review Checklist

- [ ] Thread safety for concurrent code
- [ ] Bounded collections (no memory leaks)
- [ ] Error handling with appropriate logging
- [ ] Tests added/updated (no PR without tests)
- [ ] Documentation updated
- [ ] No hardcoded paths or credentials
- [ ] Pre-commit hooks passing
- [ ] All tests passing locally

**See:** [AGENTS.md](AGENTS.md) for complete development guide.

---

## Architecture Overview

### System Components

1. **FastAPI Backend** ([src/main.py](src/main.py))

   - RESTful API endpoints
   - WebSocket endpoints for real-time communication
   - Integration with Dash dashboard
2. **Dash Dashboard** ([src/frontend/dashboard_manager.py](src/frontend/dashboard_manager.py))

   - Interactive web UI
   - Real-time plotting
   - Network visualization
3. **Demo Mode** ([src/demo_mode.py](src/demo_mode.py))

   - Simulated training for development
   - Thread-safe operation
   - Realistic metric generation
4. **WebSocket Manager** ([src/communication/websocket_manager.py](src/communication/websocket_manager.py))

   - Connection management
   - Thread-safe broadcasting
   - Async/sync bridge

### Data Flow

```bash
CasCor Backend → Backend Integration → WebSocket Manager → Dashboard
                                           ↓
                                     REST API Endpoints
```

**Demo Mode bypasses backend integration, generates simulated data.**

---

## API Reference

### REST Endpoints

- `GET /api/metrics` - Current training metrics
- `GET /api/metrics/history` - Historical metrics
- `GET /api/network/topology` - Network structure
- `GET /api/decision_boundary` - Decision boundary data
- `GET /api/dataset` - Current dataset points
- `GET /health` - Health check

### WebSocket Channels

- `/ws/training` - Stream metrics and state updates
- `/ws/control` - Send commands (start, stop, pause, resume, reset)

**Message Format:**

```json
{
  "type": "metrics | state | topology | event",
  "timestamp": 1234567890.123,
  "data": { ... }
}
```

**See:** [AGENTS.md](AGENTS.md) for complete API contracts.

---

## Troubleshooting

### Common Issues

**Problem:** `ModuleNotFoundError: No module named 'uvicorn'`

**Solution:** Ensure using conda environment's Python:

```bash
# Activate environment
conda activate JuniperPython

# Or use explicit path
/opt/miniforge3/envs/JuniperPython/bin/python src/main.py
```

**Problem:** Dashboard shows "No data available"

**Solution:** Verify demo mode is running and check logs:

```bash
# Check logs
tail -f logs/system.log

# Verify demo mode active
curl http://localhost:8050/api/metrics
```

**Problem:** WebSocket connection fails

**Solution:** Check CORS settings and port availability:

```bash
# Check port
lsof -i :8050

# Verify WebSocket endpoint
wscat -c ws://localhost:8050/ws/training
```

**See:** [AGENTS.md](AGENTS.md) for complete troubleshooting guide.

---

## License

### MIT License

Copyright (c) 2024-2025 Paul Calnon

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

---

## Contact & Support

- **Author:** Paul Calnon
- **Project:** Juniper
- **Prototype:** juniper_canopy (Juniper Canopy)
- **Repository:** [GitHub](https://github.com/pcalnon/juniper_canopy) (update placeholder)

---

## Related Projects

- [CasCor Prototype](../cascor/) - Cascade Correlation neural network implementation
- [Juniper Main](../../) - Parent project documentation

---

## Acknowledgments

Built with:

- [FastAPI](https://fastapi.tiangolo.com/) - Modern web framework
- [Dash](https://dash.plotly.com/) - Interactive visualizations
- [Plotly](https://plotly.com/) - Graphing library
- [pytest](https://pytest.org/) - Testing framework
- [Codecov](https://codecov.io/) - Coverage tracking

---

**Last Updated:** November 7, 2025
**Version:** 0.4.0
**Status:** ✅ Production Ready
