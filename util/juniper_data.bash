#!/bin/bash
##############################################################################################################################################################################################
#
#
#
##############################################################################################################################################################################################


##############################################################################################################################################################################################
#
##############################################################################################################################################################################################
export ARC_AGI_API="c430885f-6092-4001-be60-617562ce89d8"
export PACKAGE="juniper_data"


##############################################################################################################################################################################################
#
##############################################################################################################################################################################################
export HOST_SWITCH="--host"
export PORT_SWITCH="--port"
export STORE_SWITCH="--storage-path"
export LEVEL_SWITCH="--log-level"

export RELOAD_SWITCH="--reload"


##############################################################################################################################################################################################
#
##############################################################################################################################################################################################
export DATA_HOST_DEFAULT="0.0.0.0"
export DATA_PORT_DEFAULT="8100"
export STORAGE_PATH_DEFAULT="data/datasets"

export RELOAD_DEFAULT=""

# {DEBUG,INFO,WARNING,ERROR,CRITICAL}
# export LOG_LEVEL_DEFAULT="WARNING"
export LOG_LEVEL_DEFAULT="DEBUG"


##############################################################################################################################################################################################
#
##############################################################################################################################################################################################
PARAMS_DEFAULT="${HOST_SWITCH} ${DATA_HOST_DEFAULT} ${PORT_SWITCH} ${DATA_PORT_DEFAULT} ${STORE_SWITCH} ${STORAGE_PATH_DEFAULT} ${LEVEL_SWITCH} ${LOG_LEVEL_DEFAULT} ${RELOAD_DEFAULT}"


##############################################################################################################################################################################################
# Parse and Validate Command Line input params
##############################################################################################################################################################################################
PARAMS="$*"
if [[ "${PARAMS}" == "" ]]; then
    PARAMS="${PARAMS_DEFAULT}"
fi


##############################################################################################################################################################################################
# Run Python Package: JuniperData
##############################################################################################################################################################################################

python --version

# time python "${SCRIPT}" "${PARAMS}"
# time python -m "${PACKAGE}" "${PARAMS}"

# echo "time python -m \"${PACKAGE}\" \"${PARAMS}\""
echo "time python -m \"${PACKAGE}\""

# time python -m "${PACKAGE}" "${PARAMS}"
time python -m "${PACKAGE}"
